<!DOCTYPE html>
<html lang="uk">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/style.css">
	<title>Homework №12</title>
</head>

<body>
	<h2>Задача 2.</h2>
	<div>
		<p>
			Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під час сортування змішуванням.
		</p>
	</div>

	<script>
		function getRandomNumber(maxNumber) {
			let randomItem = Math.floor(Math.random() * maxNumber + 1)
			return randomItem
		}

		function getRandomArr(maxNumber, amountOfNumber) {
			let randomArr = []
			for (let i = 0; i < amountOfNumber; i++) {
				let randomNumber = getRandomNumber(maxNumber)
				randomArr.push(randomNumber)
			}
			return randomArr
		}

		const maxNumber = parseInt(prompt('Введіть максимальне число в масиві', '5'))
		const amountOfNumber = 30
		const randomArr = getRandomArr(maxNumber, amountOfNumber)
		document.write(`Масив з 30 випадкових чисел : [${randomArr}] <br>`)

		function offsetSort(randomArr) {
			let counter = 0
			let leftIndex = 0
			let rightIndex = randomArr.length - 1
			while (leftIndex < rightIndex) {
				for (let i = leftIndex; i < rightIndex; i++) {
					let temp
					if (randomArr[i] > randomArr[i + 1]) {
						temp = randomArr[i]
						randomArr[i] = randomArr[i + 1]
						randomArr[i + 1] = temp
						counter++
					}
				}
				rightIndex--
				for (let i = rightIndex; i > leftIndex; i--) {
					let temp
					if (randomArr[i] < randomArr[i - 1]) {
						temp = randomArr[i]
						randomArr[i] = randomArr[i - 1]
						randomArr[i - 1] = temp
						counter++
					}
				}
				leftIndex++
			}
			return counter
		}

		document.write(`Кількість обмінів під час сортування змішуванням : ${offsetSort(randomArr)}`)

	</script>

</body>

</html>